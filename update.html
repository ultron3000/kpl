<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>KPL Live Score Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    font-family: "Poppins", Arial, sans-serif;
    background: #f7f7f7;
    padding: 20px;
    max-width: 800px;
    margin: auto;
  }
  h1 { text-align: center; color: #222; }
  p { text-align: center; color: #666; }
  select, input, textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 15px;
  }
  button {
    background: #007bff;
    color: white;
    border: none;
    padding: 12px 20px;
    font-size: 16px;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover { background: #0056b3; }
  pre {
    background: #111;
    color: #0f0;
    padding: 15px;
    border-radius: 8px;
    font-size: 14px;
    overflow-x: auto;
  }
  .note {
    background: #fff3cd;
    border-left: 4px solid #ffeeba;
    color: #856404;
    padding: 10px;
    margin-bottom: 15px;
  }
</style>
</head>
<body>

<h1>üèè KPL Admin Score Updater</h1>
<p>Fill in the details and click <strong>Generate JSON</strong>. Then copy the JSON output into the correct file inside <code>/data/</code> on GitHub (e.g. <code>match-1.json</code>).</p>

<div class="note">
  <strong>Tip:</strong> Use valid JSON in the Batsmen and Bowlers boxes. Example:<br>
  <code>[{"name":"A. Patel","runs":25,"balls":15},{"name":"R. Sharma","runs":14,"balls":10}]</code>
</div>

<form id="form">
  <label>Select Match File:</label>
  <select id="matchFile">
    <option value="match-1.json">Match 1: Titans vs Strikers</option>
    <option value="match-2.json">Match 2: Warriors vs Challengers</option>
    <option value="match-3.json">Match 3: Blazers vs Spartans</option>
    <option value="match-4.json">Match 4: Royals vs Mavericks</option>
    <option value="match-5.json">Match 5: Thunderbolts vs Gladiators</option>
  </select>

  <label>Match Name:</label>
  <input id="match" placeholder="Titans vs Strikers" required>

  <label>Venue:</label>
  <input id="venue" placeholder="KPL Arena 1">

  <label>Status:</label>
  <input id="status" placeholder="LIVE / Completed / Upcoming">

  <label>Score:</label>
  <input id="score" placeholder="e.g. 89/3">

  <label>Overs:</label>
  <input id="overs" placeholder="e.g. 10.2">

  <label>Run Rate:</label>
  <input id="runRate" placeholder="e.g. 8.65">

  <label>Target:</label>
  <input id="target" placeholder="e.g. 150">

  <label>Batsmen (JSON format):</label>
  <textarea id="batsmen" rows="4" placeholder='[{"name":"A. Patel","runs":25,"balls":15}]'></textarea>

  <label>Bowlers (JSON format):</label>
  <textarea id="bowlers" rows="4" placeholder='[{"name":"M. Khan","overs":2,"runs":18,"wickets":1}]'></textarea>

  <button type="button" onclick="generate()">Generate JSON</button>
</form>

<h2>üìÑ Generated JSON</h2>
<pre id="output">-- JSON output will appear here --</pre>

<script>
function generate() {
  let batsmen = [];
  let bowlers = [];
  try { batsmen = JSON.parse(document.getElementById('batsmen').value || '[]'); }
  catch { alert("Invalid Batsmen JSON"); return; }
  try { bowlers = JSON.parse(document.getElementById('bowlers').value || '[]'); }
  catch { alert("Invalid Bowlers JSON"); return; }

  const obj = {
    match: document.getElementById('match').value,
    venue: document.getElementById('venue').value,
    status: document.getElementById('status').value,
    score: document.getElementById('score').value,
    overs: document.getElementById('overs').value,
    runRate: document.getElementById('runRate').value,
    target: document.getElementById('target').value,
    batsmen,
    bowlers,
    lastUpdated: new Date().toLocaleString()
  };

  const jsonStr = JSON.stringify(obj, null, 2);
  document.getElementById('output').textContent = jsonStr;

  // Display filename suggestion
  const matchFile = document.getElementById('matchFile').value;
  document.getElementById('output').insertAdjacentHTML(
    'beforebegin',
    `<p><strong>üíæ Save this to:</strong> <code>/data/${matchFile}</code></p>`
  );
}
</script>

</body>
</html>
