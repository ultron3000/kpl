<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>KPL Live â€” Match 1</title>
<style>
body{font-family:Inter,Arial,sans-serif;background:#0b132b;color:#fff;margin:0;padding:0;}
.container{max-width:900px;margin:40px auto;padding:20px;background:#1c2541;border-radius:10px;}
h1{text-align:center;color:#ffcc00;margin-bottom:5px;}
.score{text-align:center;font-size:2em;margin:10px 0;}
.section{background:#3a506b;margin-top:20px;padding:15px;border-radius:8px;}
table{width:100%;border-collapse:collapse;margin-top:10px;}
th,td{border-bottom:1px solid #555;padding:8px;text-align:left;}
th{color:#ffcc00;}
.flash{animation:flashScore 0.8s ease-in-out;}
@keyframes flashScore{0%{background:#00c6ff;color:#000;}100%{background:transparent;color:#fff;}}
</style>
</head>
<body>
<div class="container">
  <h1 id="matchTitle">Loading...</h1>
  <div id="venue" style="text-align:center;color:#ccc;"></div>
  <div class="score" id="mainScore">Loading...</div>
  <div id="innings"></div>
</div>
<script>
let prev="";
async function loadMatch(){
 try{
  const res=await fetch("data/match-1.json?nocache="+Date.now());
  const data=await res.json();
  document.getElementById("matchTitle").textContent=data.title;
  document.getElementById("venue").textContent=data.venue+" | "+data.status;
  const ci=data.currentInnings||0;const inn=data.innings[ci];
  const score=`${inn.team} ${inn.total}/${inn.wickets} (${inn.overs}.${inn.balls} ov)`;
  const ms=document.getElementById("mainScore");ms.textContent=score;
  if(score!==prev){ms.classList.add("flash");setTimeout(()=>ms.classList.remove("flash"),800);prev=score;}
  const html=data.innings.map(i=>`
   <div class='section'>
    <h2>${i.team} Innings</h2>
    <p>Score: <b>${i.total}/${i.wickets}</b> (${i.overs}.${i.balls} ov)
    <br>Extras: ${i.extras.total||0}
    <br>Fall of Wickets: ${(i.fallOfWickets||[]).length}</p>
   </div>`).join('');
  document.getElementById("innings").innerHTML=html;
 }catch(e){document.getElementById("mainScore").textContent="Error loading data";}
}
loadMatch();setInterval(loadMatch,10000);
</script>
</body>
</html>
